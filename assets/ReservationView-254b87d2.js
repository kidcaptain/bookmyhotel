import{C as g,c as u,L as b,P as f,f as y,p as x,a as m,b as _,g as v}from"./index-50450749.js";import{c as k}from"./chartConfigLine-1e75efc7.js";import{_ as w,b as n,o as p,c as d,d as e,F as D,f as C,g as L,n as F,t as o}from"./index-5401902d.js";g.register(u,b,f,y,x,m,_);const S={name:"BarChart",components:{Line:v},data(){return{page:1,searchText:"",chartConfigLineData:k,form:{name:"",siteWeb:"",tel:[],adresse:"",description:"",about:"",email:""},is_changed:!1,info:[],allUser:[],chartData:{labels:["January","February","March"],datasets:[{label:"Data One",backgroundColor:"#f87979",data:[40,20,12]}]}}},methods:{getDateFormat:function(a){var s=new Date(a);return s.toDateString()},handleSubmit:function(){confirm("Voulez-vous enregistrer ces informations?")&&n.post("https://rest-api-json-server.vercel.app/hotels",this.form).then(a=>{this.form={name:"",siteWeb:"",tel:[],adresse:"",description:"",about:"",email:""},this.is_changed=!1,this.getHotelList()}).catch(a=>console.log(a))},handleSearch:function(){n.get("https://rest-api-json-server.vercel.app/hotels").then(a=>{if(this.searchText==="")this.getHotelList();else{this.info=null;let s=new Array(a.data),l=new Array;console.table(s[0]),s[0].forEach(c=>{`${c.name}`.search(this.searchText)!=-1&&l.push(c)}),this.info=l}})},getDataTable:function(){n.get("https://rest-api-json-server.vercel.app/hotels").then(a=>{a.data.forEach(s=>{n.get(`https://rest-api-json-server.vercel.app/reservations?idHotel=${s.id}`).then(l=>{var c=l.data;c&&new Array(c)[0].forEach(r=>{n.get(`https://rest-api-json-server.vercel.app/typeChambres/${r.idTypeChambre}`).then(t=>{n.get(`https://rest-api-json-server.vercel.app/utilisateurs/${r.uid}`).then(h=>{this.info.push({reservation:r,hotel:s,typeChambre:t.data,client:h.data})})})})})})})}},mounted(){const a=localStorage.getItem("USER");a&&JSON.parse(a).role==3&&this.getDataTable()}},T={class:"relative left-0 grid w-full min-h-screen grid-cols-5 pt-10 mt-20 bg-stone-50"},j=e("div",{class:"col-span-1"},null,-1),E={class:"col-span-4"},A={class:"relative p-4 overflow-x-auto bg-white shadow-md sm:rounded-lg"},N=e("h2",{class:"my-4 text-xl"},"Liste de reservation",-1),B=e("p",{class:"max-w-3xl my-5 text-sm text-stone-500"}," Browse a list of Flowbite products designed to help you work and play, stay organized, get answers, keep in touch, grow your business, and more. ",-1),V={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},z=e("thead",{class:"text-xs text-gray-700 rounded-md bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"p-4 uppercase"},[e("div",{class:"flex items-center gap-2"},[L(" N° "),e("input",{id:"checkbox-all-search",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-all-search",class:"sr-only"},"checkbox")])]),e("th",{scope:"col",class:"px-6 py-3"},[e("span",{class:"uppercase"},"Client")]),e("th",{scope:"col",class:"px-6 py-3 uppercase"},"hotel"),e("th",{scope:"col",class:"px-6 py-3 uppercase"},"Type de chambre"),e("th",{scope:"col",class:"px-6 py-3 uppercase"}," Date de reservation "),e("th",{scope:"col",class:"px-6 py-3 uppercase"},"Date d'arrivée"),e("th",{scope:"col",class:"px-6 py-3 uppercase"},"Date de départ"),e("th",{scope:"col",class:"px-6 py-3 uppercase"}," Date limite pour confirmation "),e("th",{scope:"col",class:"px-6 py-3 uppercase"},"Actions")])],-1),H=e("td",{class:"w-4 p-4"},[e("div",{class:"flex items-center"},[e("input",{id:"checkbox-table-search-1",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-table-search-1",class:"sr-only"},"checkbox")])],-1),R={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},$={class:"px-6 py-4"},J={class:"px-6 py-4"},O={class:"px-6 py-4"},P={class:"px-6 py-4"},U={class:"px-6 py-4"},W={class:"px-6 py-4"},I=e("td",{class:"grid gap-2 px-6 py-4"},[e("button",{type:"button",class:"grid justify-center px-3 py-2 text-xs font-medium text-white bg-red-400 rounded-md hover:bg-red-500"}," Annuler la reservation "),e("button",{type:"button",class:"grid justify-center px-3 py-2 text-xs font-medium text-white bg-blue-400 rounded-md hover:bg-blue-500"}," Voir les details ")],-1);function M(a,s,l,c,i,r){return p(),d("main",T,[j,e("div",E,[e("div",A,[N,B,e("table",V,[z,e("tbody",null,[(p(!0),d(D,null,C(i.info,t=>(p(),d("tr",{class:F([[t.reservation.validate==!0&&"bg-green-50",t.reservation.validate==!1&&"border-gray-100"],"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"]),key:t.reservation.id},[H,e("th",R,o(t.client.firstName)+" "+o(t.client.lastName),1),e("td",$,o(t.hotel.name),1),e("td",J,o(t.typeChambre.lib),1),e("td",O,o(r.getDateFormat(t.reservation.dateReservation)),1),e("td",P,o(r.getDateFormat(t.reservation.dateArrive)),1),e("td",U,o(r.getDateFormat(t.reservation.dateDepart)),1),e("td",W,o(r.getDateFormat(t.reservation.dateLimite)),1),I],2))),128))])])])])])}const Q=w(S,[["render",M]]);export{Q as default};
