import{_ as le,o as s,c as n,d as e,F as w,f as $,t as m,i as P,j as i,k as D,r as K,e as V,u as ae,I as oe,h as b,l as se,m as ne,g as I,b as j,w as k,n as S,a as ie,P as de,Q,V as N,v as E,p as U}from"./index-5401902d.js";const ue={},ce=P('<h2 class="p-2 mt-4 mb-4 text-3xl text-stone-700">Filtrer par</h2><hr><h3 class="p-2 mt-4 text-gray-900">Prix total</h3><div class="p-2"><label for="default-range" class="flex justify-between mb-2 text-sm font-bold text-stone-900 dark:text-white">Minimum</label><label for="default-range" class="flex justify-between mb-2 text-xs font-medium text-gray-900 dark:text-white"><span>5000 FCFA </span> <span>38000 FCFA</span></label><input id="default-range" type="range" value="0" class="w-full h-2 bg-gray-200 rounded-lg cursor-pointer dark:bg-gray-700"><label for="default-range" class="flex justify-between mb-2 text-sm font-bold text-gray-900 dark:text-white">Maximum</label><label for="default-range" class="flex justify-between mb-2 text-xs font-medium text-gray-900 dark:text-white"><span>6000 FCFA </span> <span>40000 FCFA</span></label><input id="default-range" type="range" value="100" class="w-full h-2 bg-gray-200 rounded-lg cursor-pointer dark:bg-gray-700"></div>',4),pe={class:"p-2"},be=e("h3",{class:"mb-4 text-gray-900 dark:text-white"},"Nombre d'étoiles",-1),ge={class:"w-full text-sm font-medium text-gray-900 bg-white rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"},ve={class:"w-full border-b border-gray-200 rounded-t-lg dark:border-gray-600"},he={class:"flex items-center pl-3"},fe=e("input",{id:"vue-checkbox",type:"checkbox",value:"",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"},null,-1),ye={for:"vue-checkbox",class:"w-full py-3 ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"};function me(B,g){return s(),n("div",null,[ce,e("div",pe,[be,e("ul",ge,[(s(),n(w,null,$([1,2,3,4,5],d=>e("li",ve,[e("div",he,[fe,e("label",ye,m(d),1)])])),64))])])])}const xe=le(ue,[["render",me]]),_e={class:"relative grid w-full h-64 grid-cols-5 overflow-hidden bg-white border rounded-lg"},ke={class:"col-span-2"},we=["src","alt"],$e={class:"w-full h-full col-span-3 p-4 text-stone-800"},qe={class:"text-lg font-bold"},Ce={key:0,class:"flex gap-2"},Ae={key:1,class:"my-2 text-blue-600"},Ve={key:2},Ee={class:"flex gap-2"},Ie={key:3},je={class:"flex items-start justify-between row-span-3 gap-4 mt-2"},Fe={class:""},Pe={class:"text-blue-700"},Be={key:0,class:"row-span-1 text-xl font-bold"},Le=e("span",{class:"text-xs"},"Pour une nuit",-1),Me={__name:"HotelCard",props:["img","prix","nameHotel","id","query"],setup(B){const g=B,d=i(g.img);i(g.prix);const L=i(g.nameHotel),h=i(g.id),x=i({}),u=i(g.query),q=i([]),v=i(null);i(null),i(0);const _=function(p){j.get(`https://rest-api-json-server.vercel.app/equipements/${p}`).then(c=>{q.value.push(c.data)})},f=p=>{j.get(`https://rest-api-json-server.vercel.app/typeChambres?idHotel=${p}&_sort=price&_order=asc`).then(c=>{v.value=c.data[0]})},y=p=>{j.get(`https://rest-api-json-server.vercel.app/hotels/${p}`).then(c=>{x.value=c.data;const o=Array(c.data.equipement);o[0]&&(o[0].length=4,o[0].forEach(C=>{_(C)}))})};return D(()=>{y(h.value),f(h.value)}),(p,c)=>{const o=K("RouterLink");return s(),n("div",_e,[e("div",ke,[e("img",{src:d.value,alt:d.value,class:"h-full",srcset:""},null,8,we)]),e("div",$e,[e("h2",qe,m(L.value),1),x.value.star?(s(),n("ul",Ce,[(s(!0),n(w,null,$(parseInt(x.value.star),C=>(s(),n("li",null,[V(ae(oe),{width:"30",icon:"solar:star-linear"})]))),256))])):b("",!0),x.value?(s(),n("h3",Ae,m(x.value.adresse),1)):b("",!0),q.value?(s(),n("ul",Ve,[(s(!0),n(w,null,$(q.value,C=>(s(),n("li",Ee,m(C.label),1))),256))])):b("",!0),q.value.length==0?(s(),n("span",Ie," Aucune informations ")):b("",!0),e("div",je,[e("div",Fe,[e("button",Pe,[u.value?(s(),se(o,{key:0,to:{name:"hotel",params:{id:h.value},query:{pays:u.value.pays,ville:u.value.ville,quartier:u.value.quartier,arrivee:u.value.arrivee,depart:u.value.depart,nbradults:u.value.nbradults,nbrkids:u.value.nbrkids}}},{default:ne(()=>[I("Parcourir les chambres")]),_:1},8,["to"])):b("",!0)])]),v.value!=null?(s(),n("h2",Be,[I(m(v.value.price)+" Fcfa ",1),Le])):b("",!0)])])])}}},Se={class:"w-full"},He={class:"relative left-0 min-h-screen mt-20 bg-white"},Qe={class:"w-full pt-4 pb-5 pl-40 m-auto mt-5 bg-white max-w-7xl dark:bg-gray-800"},Ne={class:"flex flex-col items-start"},Ue={class:"flex gap-3 justify-evenly"},De={class:"relative w-full p-1 pl-5 pr-5 text-xs text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},Ke=["disabled"],Re={class:"w-full h-full overflow-x-hidden text-gray-500"},Te=["onClick"],ze={class:"relative w-full p-1 pl-5 pr-5 text-xs text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},Ge=["disabled"],Je={class:"w-full h-full overflow-x-hidden text-gray-500"},Oe=["onClick"],We={class:"relative w-full p-1 pl-5 pr-5 text-xs text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},Xe=["disabled"],Ye={class:"w-full h-full overflow-x-hidden text-gray-500"},Ze=["onClick"],et={"date-rangepicker":"",class:"flex items-center justify-between gap-4 mt-4"},tt={class:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-5 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},rt=e("label",{for:"arrivee"},"Arrivée",-1),lt=e("br",null,null,-1),at={class:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-5 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},ot=e("label",{for:"depart"},"Départ",-1),st=e("br",null,null,-1),nt={class:"block w-full p-2 pl-5 text-xs text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},it=e("label",{for:"nbradults"},"Adulte",-1),dt=P('<option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option>',7),ut=[dt],ct={class:"bg-gray-50 border border-gray-300 text-gray-900 text-xs rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-5 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},pt=e("label",{for:"nbrkids"},"Enfant",-1),bt=P('<option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option>',5),gt=[bt],vt=e("svg",{"aria-hidden":"true",class:"w-5 h-5 mr-2 -ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),ht=e("hr",null,null,-1),ft={class:"grid w-full min-h-screen grid-cols-5 m-auto"},yt=e("div",{class:"col-span-1"},null,-1),mt={class:"col-span-3"},xt={class:"transition-all"},_t={class:"relative float-right w-full h-full max-w-6xl m-auto my-2"},kt=P('<div class="flex p-2.5 w-72 basis-1/4 bg-slate-200 text-stone-800 pl-5 pr-5 overflow-hidden text-xs border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"><label for="">Trier par</label><select name="" class="border-none bg-inherit" id=""><option value="1">Récommandés</option><option value="2">Prix (croissant)</option><option value="3">Prix (décroissant)</option><option value="4">Nombre d&#39;étoiles</option><option value="5">Mieux notés</option></select></div>',1),wt={class:"my-5"},$t={class:"gap-4 p-4 mt-2"},qt={key:0,class:"relative float-right text-right text-red-500"},Ct={key:1},At={class:"col-span-1 border-l"},Et={__name:"RechercheView",setup(B){i(!1);const g=i([]),d=i(null),L=i(de),h=i(Q),x=i(Q),u=i(N),q=i(N),v=i(!0),_=i(!1),f=i(!1);i(!1);const y=i([]),p=i([]),c=i([]),o={pays:"",ville:"",quartier:"",lieu:"",arrivee:null,depart:null,adults:1,kids:0},C=l=>{y.value.length=0;var t=l.srcElement.value;t!==""&&L.value.forEach(a=>{(a.name.toLowerCase().search(t.trim())!=-1||a.name.search(t.trim())!=-1)&&y.value.push(a)})},R=l=>{p.value.length=0;var t=l.srcElement.value;t!==""&&u.value.forEach(a=>{a.name.toLowerCase().search(t.trim())!=-1&&p.value.push(a)})},T=l=>{c.value.length=0;var t=l.srcElement.value;t!==""&&h.value.forEach(a=>{(a.name.toLowerCase().search(t.trim())!=-1||a.name.search(t.trim())!=-1)&&c.value.push(a)})},z=l=>{v.value=l,u.value=q.value},G=l=>{f.value=l,h.value=x.value},J=l=>{_.value=l},M=l=>{var t=l;t=t.toLowerCase();let a=0;for(;a<10;)t=t.replace(" ","_"),t=t.replace("é","e"),t=t.replace("è","e"),t=t.replace("â","a"),t=t.replace("ô","o"),t=t.replace("î","i"),t=t.replace("ê","e"),a++;return t},O=(l,t)=>{form.value.pays=l,form.value.metaPays=M(l),y.value.length=0,v.value=!1;var a=[];u.value.forEach(r=>{r.idPays==t&&a.push(r)}),u.value.length=0,u.value=a,f.value=!0},W=(l,t)=>{form.value.ville=l,form.value.metaVille=M(l),p.value.length=0,f.value=!1;var a=[];h.value.forEach(r=>{r.idVille==t&&a.push(r)}),h.value.length=0,h.value=a,_.value=!0},X=l=>{form.value.quartier=l,form.value.metaQuartier=M(l),c.value.length=0,_.value=!1},Y=l=>{j.get(`https://rest-api-json-server.vercel.app/hotels?metaPays=${l.pays}&metaVille=${l.ville}&metaQuartier=${l.quartier}`).then(t=>{t.data.forEach(a=>{j.get(`https://rest-api-json-server.vercel.app/typeChambres?idHotel=${a.id}`).then(r=>{r.data.forEach(A=>{A.quantity>0?g.value.push({hotel:a,disponibilite:1}):g.value.push({hotel:a,disponibilite:0})})})})}).catch(t=>console.error(t))};return D(()=>{let l=window.location.href.split("?");if(l.length==2){let te=l[1].split("&"),H={},F="";te.forEach(function(re){F=re.split("="),F.length==2&&(H[F[0]]=F[1])}),d.value=H;var t=`${d.value.arrivee.charAt(8)}${d.value.arrivee.charAt(9)}`,a=`${d.value.arrivee.charAt(5)}${d.value.arrivee.charAt(6)}`,r=`${d.value.depart.charAt(8)}${d.value.depart.charAt(9)}`,A=`${d.value.depart.charAt(5)}${d.value.depart.charAt(6)}`,Z=`${d.value.depart.charAt(0)}${d.value.depart.charAt(1)}${d.value.depart.charAt(2)}${d.value.depart.charAt(3)}`,ee=`${d.value.arrivee.charAt(0)}${d.value.arrivee.charAt(1)}${d.value.arrivee.charAt(2)}${d.value.arrivee.charAt(3)}`;parseInt(t)>=parseInt(r)&&parseInt(a)>=parseInt(A)&&parseInt(ee)>=parseInt(Z)&&(document.getElementById("click").click(),localStorage.setItem("notif","La date d'arrivée ou la date de départ est invalide")),Y(d.value)}else document.getElementById("click").click()}),(l,t)=>{const a=K("router-link");return s(),n("div",Se,[V(ie),e("main",He,[e("div",Qe,[e("form",Ne,[e("div",Ue,[e("div",null,[e("div",De,[k(e("input",{onKeyup:C,type:"search","onUpdate:modelValue":t[0]||(t[0]=r=>o.pays=r),id:"pays",name:"pays",class:"w-full p-2 font-bold text-black uppercase border-none disabled:font-normal disabled:text-gray-900 focus:ring-gray-50 bg-gray-50",placeholder:"pays",required:"",autocomplete:"on",disabled:!v.value},null,40,Ke),[[E,o.pays]]),e("div",{class:S([[y.value.length==0&&"h-0",y.value.length>0&&"h-96"],"absolute left-0 w-full mt-1 overflow-hidden text-sm text-gray-900 border border-gray-300 rounded-lg shadow-xl bg-gray-50 max-h-96"])},[e("ul",Re,[(s(!0),n(w,null,$(y.value,r=>(s(),n("li",{class:"py-3 text-left px-7 hover:bg-blue-100",key:r.id},[e("button",{type:"button",class:"font-bold hover:text-blue-400",onClick:A=>O(r.slug_name,r.id)},m(r.name),9,Te)]))),128))])],2)]),v.value?b("",!0):(s(),n("button",{key:0,onClick:t[1]||(t[1]=r=>z(!0)),class:"p-1 text-xs font-bold text-red-400"}," Annuler "))]),e("div",null,[e("div",ze,[k(e("input",{onKeyup:R,type:"search","onUpdate:modelValue":t[2]||(t[2]=r=>o.ville=r),id:"ville",name:"ville",class:"w-full p-2 font-bold text-black uppercase border-none disabled:font-normal disabled:text-gray-900 focus:ring-gray-50 bg-gray-50",placeholder:"ville",required:"",autocomplete:"on",disabled:!f.value},null,40,Ge),[[E,o.ville]]),e("div",{class:S([[p.value.length==0&&"h-0",p.value.length>0&&"h-96"],"absolute left-0 w-full mt-1 overflow-hidden text-sm text-gray-900 border border-gray-300 rounded-lg shadow-xl bg-gray-50 max-h-96"])},[e("ul",Je,[(s(!0),n(w,null,$(p.value,r=>(s(),n("li",{class:"py-3 text-left px-7 hover:bg-blue-100",key:r.id},[e("button",{type:"button",class:"font-bold hover:text-blue-400",onClick:A=>W(r.slug_name,r.id)},m(r.name),9,Oe)]))),128))])],2)]),!v.value&&!f.value?(s(),n("button",{key:0,onClick:t[3]||(t[3]=r=>G(!0)),class:"p-1 text-xs font-bold text-red-400"}," Annuler ")):b("",!0)]),e("div",null,[e("div",We,[k(e("input",{onKeyup:T,type:"search","onUpdate:modelValue":t[4]||(t[4]=r=>o.quartier=r),id:"quartier",name:"quartier",class:"w-full p-2 font-bold text-black uppercase border-none disabled:font-normal disabled:text-gray-900 focus:ring-gray-50 bg-gray-50",placeholder:"quartier",required:"",autocomplete:"on",disabled:!_.value},null,40,Xe),[[E,o.quartier]]),e("div",{class:S([[c.value.length==0&&"h-0",c.value.length>0&&"h-96"],"absolute left-0 w-full mt-1 overflow-hidden text-sm text-gray-900 border border-gray-300 rounded-lg shadow-xl bg-gray-50 max-h-96"])},[e("ul",Ye,[(s(!0),n(w,null,$(c.value,r=>(s(),n("li",{class:"py-3 text-left px-7 hover:bg-blue-100",key:r.id},[e("button",{type:"button",class:"font-bold hover:text-blue-400",onClick:A=>X(r.slug_name)},m(r.name),9,Ze)]))),128))])],2)]),!v.value&&!f.value&&!_.value?(s(),n("button",{key:0,onClick:t[5]||(t[5]=r=>J(!0)),class:"p-1 text-xs font-bold text-red-400"}," Annuler ")):b("",!0)])]),e("div",et,[e("div",tt,[rt,I(),lt,k(e("input",{name:"arrivee",id:"arrivee",type:"date","onUpdate:modelValue":t[6]||(t[6]=r=>o.arrivee=r),class:"text-sm border-none bg-gray-50",placeholder:"Select date start",required:""},null,512),[[E,o.arrivee]])]),e("div",at,[ot,I(),st,k(e("input",{name:"depart",type:"date",id:"depart","onUpdate:modelValue":t[7]||(t[7]=r=>o.depart=r),class:"text-sm border-none bg-gray-50",placeholder:"Select date end",required:""},null,512),[[E,o.depart]])]),e("div",nt,[it,k(e("select",{name:"nbradults","onUpdate:modelValue":t[8]||(t[8]=r=>o.adults=r),class:"border-none focus:ring-gray-50 bg-gray-50",id:"nbradults",required:""},ut,512),[[U,o.adults]])]),e("div",ct,[pt,k(e("select",{name:"nbrkids","onUpdate:modelValue":t[9]||(t[9]=r=>o.kids=r),class:"border-none focus:ring-gray-50 bg-gray-50",id:"nbrkids",required:""},gt,512),[[U,o.kids]])])]),e("button",{type:"button",onClick:t[10]||(t[10]=r=>l.handleSubmit()),class:"w-full flex justify-center h-14 mt-4 items-center py-2.5 px-3 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},[vt,I(" Search ")])]),V(a,{id:"goto",to:{name:"recherche",query:{pays:o.pays,ville:o.ville,quartier:o.quartier,arrivee:o.arrivee,depart:o.depart,nbradults:o.adults,nbrkids:o.kids}}},null,8,["to"])]),ht,e("section",ft,[yt,e("div",mt,[e("section",xt,[e("div",_t,[kt,e("div",wt,[e("button",{onClick:t[11]||(t[11]=(...r)=>l.toggleMap&&l.toggleMap(...r)),class:"text-sm"}," Changer de vue ")]),e("div",null,[e("ul",$t,[(s(!0),n(w,null,$(g.value,r=>(s(),n("li",{class:"my-5",key:r.id},[V(Me,{img:r.hotel.profileImage,id:r.hotel.id,query:d.value,prix:r.hotel.adresse,"name-hotel":r.hotel.name},null,8,["img","id","query","prix","name-hotel"]),r.disponibilite==0?(s(),n("span",qt,"Aucune chambre n'est disponible pour le moment")):b("",!0),r.disponibilite==1?(s(),n("span",Ct)):b("",!0)]))),128))])])])])]),e("aside",At,[V(xe)])])]),V(a,{to:"/home",id:"click"})])}}};export{Et as default};
